# [152. 乘积最大子数组](https://leetcode.cn/problems/maximum-product-subarray/)

> 原题链接：[LeetCode 152. 乘积最大子数组](https://leetcode.cn/problems/maximum-product-subarray/)




## 题目描述

给你一个整数数组 `nums` ，请你找出数组中乘积最大的非空连续 子数组（该子数组中至少包含一个数字），并返回该子数组所对应的乘积。

测试用例的答案是一个 **32-位** 整数。

**请注意**，一个只包含一个元素的数组的乘积是这个元素的值。

 

示例 1:

```
6
```

示例 2:

**输入:** nums = [-2,0,-1]
**输出:** 0
**解释:** 结果不能为 2, 因为 [-2,-1] 不是子数组。

 

**提示:**

	1 <= nums.length <= 2 * 104
	- `-10 <= nums[i] <= 10`

	- `nums` 的任何子数组的乘积都 **保证** 是一个 **32-位** 整数

**难度：** Medium

---

## 题解代码

```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
 var maxProduct = function(nums) {
  let max = min = nums[0]
  for (let i = 1; i < nums.length; i++) {
      const tempMax = max
      // 当前元素是负数的话 前一个元素越小越好
      // 所以多维护一个最小值
      max = Math.max(max * nums[i], min * nums[i], nums[i])
      min = Math.min(tempMax * nums[i], min * nums[i], nums[i])
      nums[i] = max
  }
  return Math.max(...nums)
};
```
